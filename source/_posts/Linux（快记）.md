# Linux（快记）

## 1、文件管理

### 1.1、Linux目录

| 目录  | 作用                                        |
| ----- | ------------------------------------------- |
| /boot | 系统启动相关文件，如内核 、initrd，以及grub |
| /dev  | 设备                                        |

touch 创建空白文件

mkdir 创建目录 -p 表示递归创建

rm 删除文件 -r 删除目录（递归） -f 强制

### 1.2、文件权限

**ls -la** ：

| 权限项   | 文件类型      | 读   | 写         | 执行 | 读   | 写             | 执行 | 读   | 写       | 执行 |
| -------- | ------------- | ---- | ---------- | ---- | ---- | -------------- | ---- | ---- | -------- | ---- |
| 字符表示 | d、l、c、s、p | r    | w          | x    | r    | w              | x    | r    | w        | x    |
| 数字表示 |               | 4    | 2          | 1    | 4    | 2              | 1    | 4    | 2        | 1    |
| 权限分配 |               |      | 文件所有者 |      |      | 文件所属组用户 |      |      | 其他用户 |      |

​			d:文件夹	l:链接文件	c:字符文件（如键盘）	b:块文件如磁盘分区

 **chmod**：改变权限

chmod -r 递归修改权限

| chmod | u (所有者)<br />g （组）<br />o （其他人）<br />a （全部） | +(加入)<br />-(除去)<br />=(设定) | r<br />w<br />x | 文件或目录 |
| ----- | ---------------------------------------------------------- | --------------------------------- | --------------- | ---------- |
|       |                                                            |                                   |                 |            |

**容易犯错 chmod -r 777 /**

**chown**：改变文件拥有者或所属群组

chown -r 账号名称 文件或目录

chown hik test 修改test文件所有者为hik

chown -r 账号名称 :组名 文件或目录

chown root:hik test

修改test文件所有者为root，群组为hik

### 1.3 所有文件被赋予777故障恢复



### 1.4 文件与目录的见识

ls -la 查看当前目录下文的详细信息

du -sh 查看指定目录下文件的详细信息大小

### 1.5 复制\移动

cp -r /源目录 /目标目录

mv /源目录 /目标目录

远程拷贝

scp -p (sshd服务端口) -r （递归）

scp -p 5555 -r hik@192.168.154.4:/home  /home

### 1.5打包压缩

| 打包\压缩文件                           | 解包\解压文件                   |
| --------------------------------------- | ------------------------------- |
| tar -cvf xxx.tar /home 打包压缩         | tar -xvf xx.tar 解包文件        |
| tar -zcvf xx.tar.gz /home  打包并压缩   | tar -zxvf xx.tar.gz  解包并解压 |
| zip -r xx.zip /home  压缩文件 (zip格式) | unzip xx.zip 解压               |
|                                         |                                 |

### 1.6 文件修改 vim

vim xx.txt

进入后是编辑模式

按i进入输入模式

按esc退出至末行模式

| 编辑模式                                                     | 输入模式                                                     | 末行模式                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 移动光标<br />yy复制光标所在行<br />p 粘贴至光标处<br />dd 删除光标所在行 | i:insert 在光标处输入<br />v:visual，移动光标选择，配合y复制 | :wq 保存，退出<br />/test 往末尾查到test字符<br />? test 往前查找test字符 |

### 1.7文件查找

find 指定目录下 -name 文件名称

| 参数                                             | 作用                                                         |
| ------------------------------------------------ | ------------------------------------------------------------ |
| -name                                            | 匹配名称                                                     |
| -user<br />-group                                | 匹配所有者<br />匹配组                                       |
| -size                                            | 文件大小 +50kb 超过50kb的文件   -50kb 小于50kb的文件         |
| -mtime -n +n<br />-atime -n +n<br />-ctime -n +n | 匹配修改内容的时间<br />匹配访问文件的时间<br />匹配修改文件权限的时间<br />-n指n天以内  +n指n天以前 |
| -exec ......{}\;                                 | find的结果交给后边的命令处理                                 |
| \|xagrs -i ......{}                              | 同上                                                         |

find /var -size -10M -size +1M -exec du -sh ()\;

查找/var目录下1m到10m大小的文件，并用于du -sh处理

find /var/ -mtime +10 -name "*.log" |xargs -i cp {} /tmp

将查找/var/目录小修改时间超过10天的文件复制到 /tmp目录下

### 1.8 其余

echo "xxxx" > test （覆盖）

echo "xxxx" >> test （追加）

chattr 修改隐藏属性  lsattr 查看文件隐藏权限

### 1.9 常见问题

权限问题导致文件无法下载

chmod o+r 登陆用户

隐藏权限导致文件无法修改lsattr查看

chattr +i 文件名 加锁定 -i去锁定

lsof | grep deleted 确认已经删除文件但未释放空间

## 2、磁盘管理

### 2.1 RAID管理



### 2.2 分区管理



### 2.3 逻辑卷配置管理





























